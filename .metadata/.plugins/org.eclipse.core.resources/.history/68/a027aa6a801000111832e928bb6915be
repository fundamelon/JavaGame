package main;

import java.awt.Point;
import java.awt.geom.Point2D;

public class Camera {
	public static Point pos = new Point(window.getPanelWidth()/2, window.getPanelHeight()/2);
	public static double pos_x, pos_y;
	public static Point origin = pos;
	public static double origin_x, origin_y;
	public static Point newPos = new Point(0, 0);
	public static boolean moving = false;
	public static int time, smoothAmt;
	public static double mul_x, mul_y;
	
	public static void setX(double nx) {pos_x = nx;}
	public static void setY(double ny) {pos_y = ny;}
	public static void setPoint(Point npos) {pos_x = npos.x; pos_y = npos.y;}
	
	public static double getX() {return pos_x;}
	public static double getY() {return pos_y;}
	public static Point getPoint() {return pos;}
	public static String getString() {return "X: "+pos_x+" Y: "+pos_y;}
	
	public static void moveToPos(Point npos, int ntime, int nSmoothAmt) {
		origin = pos;
		origin_x = origin.x;
		origin_y = origin.y;
		newPos = npos;
		if(newPos == pos) moving = false; else moving = true;
		time = ntime;
		smoothAmt = nSmoothAmt;
	//	mul_x = pos_x < newPos.x ? 1 : -1;
		mul_x = (pos_x - newPos.x) / time;

	//	mul_y = pos_y < newPos.y ? 1 : -1;
		mul_y = (pos_y - newPos.y) / time;
	}
	
	public static void update() {
		if(moving) {
			try {
				if(newPos == pos) {// | (Point.distance(newPos.x, newPos.y, origin_x, origin_y) >= Point.distance(pos_x, pos_y, origin.x, origin.y))) {
					moving = false; 
					origin = pos;
					origin_x = origin.x;
					origin_y = origin.y;
				}
				else {
					Camera.setX(Camera.getX() + mul_x);
					Camera.setY(Camera.getY() + mul_y);
					System.out.println(Point.distance(newPos.x, newPos.y, origin_x, origin_y));
				}
			} catch(ArithmeticException e){}
		}
	}
}
